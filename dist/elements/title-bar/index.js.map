{"version":3,"file":"index.js","sources":["../../../elements/title-bar/index.ts"],"sourcesContent":["// HTMLElement 타입 선언\r\nlet HTMLElement: typeof globalThis.HTMLElement = globalThis.HTMLElement || class { };\r\n\r\n// 브라우저 환경에서 HTMLElement 초기화\r\nif (typeof window !== 'undefined') {\r\n\tHTMLElement = window.HTMLElement;\r\n}\r\n\r\nimport { DefineOnce } from '../../util';\r\nimport { TITLE } from '../typo';\r\nimport { titleBarStyle } from './style.css';\r\n\r\nclass IcecreamTitleBar extends HTMLElement {\r\n\tstatic observedAttributes = ['title', 'back'];\r\n\r\n\tprivate titleElement: HTMLElement | null = null;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tif (typeof window !== 'undefined') {\r\n\t\t\tthis.titleElement = document.createElement(TITLE);\r\n\t\t}\r\n\t}\r\n\r\n\tconnectedCallback() {\r\n\t\tif (typeof window !== 'undefined' && this.titleElement) {\r\n\t\t\tthis.classList.add(titleBarStyle);\r\n\t\t\tthis.insertAdjacentElement('afterbegin', this.titleElement);\r\n\t\t}\r\n\t}\r\n\r\n\tattributeChangedCallback(\r\n\t\tname: string,\r\n\t\t_oldValue: string | null,\r\n\t\tnewValue: string | null\r\n\t) {\r\n\t\tif (typeof window !== 'undefined' && this.titleElement) {\r\n\t\t\tif (name === 'title') {\r\n\t\t\t\tthis.titleElement.textContent = newValue || '';\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (name === 'back') {\r\n\t\t\t\tconst useBack = newValue !== null;\r\n\t\t\t\tconst title = this.titleElement.textContent || '';\r\n\r\n\t\t\t\tthis.titleElement.textContent = (useBack ? '←  ' : '') + title;\r\n\t\t\t\tthis.titleElement.style.cursor = useBack ? 'pointer' : 'default';\r\n\r\n\t\t\t\tif (useBack) {\r\n\t\t\t\t\tthis.titleElement.addEventListener(\r\n\t\t\t\t\t\t'click',\r\n\t\t\t\t\t\tIcecreamTitleBar.onTitleClicked\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.titleElement.removeEventListener(\r\n\t\t\t\t\t\t'click',\r\n\t\t\t\t\t\tIcecreamTitleBar.onTitleClicked\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tstatic onTitleClicked() {\r\n\t\tif (typeof window !== 'undefined') {\r\n\t\t\thistory.back();\r\n\t\t}\r\n\t}\r\n}\r\n\r\nif (typeof window !== 'undefined') {\r\n\tconst NAME = 'ic-title-bar';\r\n\tDefineOnce.define(NAME, IcecreamTitleBar);\r\n}\r\n\r\nexport default typeof window !== 'undefined' ? 'ic-title-bar' : () => null;\r\n\r\nexport interface IcecreamTitleBarProps {\r\n\ttitle?: string;\r\n\tback?: boolean;\r\n}"],"names":["HTMLElement","_IcecreamTitleBar","TITLE","titleBarStyle","name","_oldValue","newValue","useBack","title","IcecreamTitleBar","DefineOnce","index"],"mappings":";;;;AACA,IAAIA,IAA6C,WAAW,eAAe,MAAM;AAAE;AAG/E,OAAO,SAAW,QACrBA,IAAc,OAAO;AAOtB,MAAMC,IAAN,MAAMA,UAAyBD,EAAY;AAAA,EAK1C,cAAc;AACP,aAHP,KAAQ,eAAmC,MAItC,OAAO,SAAW,QAChB,KAAA,eAAe,SAAS,cAAcE,CAAK;AAAA,EAElD;AAAA,EAEA,oBAAoB;AACnB,IAAI,OAAO,SAAW,OAAe,KAAK,iBACpC,KAAA,UAAU,IAAIC,CAAa,GAC3B,KAAA,sBAAsB,cAAc,KAAK,YAAY;AAAA,EAE5D;AAAA,EAEA,yBACCC,GACAC,GACAC,GACC;AACD,QAAI,OAAO,SAAW,OAAe,KAAK,cAAc;AACvD,UAAIF,MAAS,SAAS;AAChB,aAAA,aAAa,cAAcE,KAAY;AAC5C;AAAA,MACD;AAEA,UAAIF,MAAS,QAAQ;AACpB,cAAMG,IAAUD,MAAa,MACvBE,IAAQ,KAAK,aAAa,eAAe;AAE/C,aAAK,aAAa,eAAeD,IAAU,QAAQ,MAAMC,GACzD,KAAK,aAAa,MAAM,SAASD,IAAU,YAAY,WAEnDA,IACH,KAAK,aAAa;AAAA,UACjB;AAAA,UACAN,EAAiB;AAAA,QAAA,IAGlB,KAAK,aAAa;AAAA,UACjB;AAAA,UACAA,EAAiB;AAAA,QAAA;AAInB;AAAA,MACD;AAAA,IACD;AAAA,EACD;AAAA,EAEA,OAAO,iBAAiB;AACnB,IAAA,OAAO,SAAW,OACrB,QAAQ,KAAK;AAAA,EAEf;AACD;AA1DQA,EAAA,qBAAqB,CAAC,SAAS,MAAM;AAD7C,IAAMQ,IAANR;AA6DI,OAAO,SAAW,OAEVS,EAAA,OADE,gBACWD,CAAgB;AAGzC,MAAeE,IAAA,OAAO,SAAW,MAAc,iBAAiB,MAAM;"}